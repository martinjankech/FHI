<!DOCTYPE html>
<html lang="en">

<head>
 <meta charset="UTF-8">
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
  crossorigin="anonymous"></script>
 <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
  integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
  integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
  integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
 <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
 <link rel="stylesheet" href="css/footer.css">
 <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
 <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"
  integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0=" crossorigin="anonymous"></script>
 <!-- jqury kniznica na obmedzenie maximalneho poctu poloziek v autocomplete  -->
 <script src="js/jquery.ui.autocomplete.scroll.min.js"></script>
 <link href="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.css" rel="stylesheet" />
 <script src="js/app.js"></script>
 <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css">
 <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js"></script>
 <link rel="stylesheet" href="css/datatable.css">
 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

 <title>Document</title>
</head>

<body>
 <div id="navbar">
 </div>
 <div class="container mt-5">
  <h2>Book CRUD Operations</h2>
  <form id="bookForm">
   <div class="row">
    <div class="form-group col-3">
     <label for="sel1">Select action:</label>
     <select class="form-control" id="actionSelect">
      <option value="add">Add</option>
      <option value="update">Update</option>
      <option value="delete">Delete</option>
     </select>
    </div>
    <div class="form-group col-3 ">
     <label for="ID">ID:</label>
     <input type="text" id="id" name="id" class="form-control">
    </div>
   </div>
   <div class="row">
    <div class="form-group col-3 ">
     <label for="nazov">Nazov:</label>
     <input type="text" id="nazov" name="nazov" class="form-control">
    </div>
    <div class="form-group col-3">
     <label for="autor1">Autor 1:</label>
     <input type="text" id="autor1" name="autor1" class="form-control">
    </div>
    <div class="form-group col-3">
     <label for="autor2">Autor 2:</label>
     <input type="text" id="autor2" name="autor2" class="form-control">
    </div>
    <div class="form-group col-3">
     <label for="kategoria">Kategoria:</label>
     <input type="text" id="kategoria" name="kategoria" class="form-control">
    </div>
   </div>
   <div class="row">
    <div class="form-group col-3">
     <label for="isbn">ISBN:</label>
     <input type="text" id="isbn" name="isbn" class="form-control">
    </div>
    <div class="form-group col-3">
     <label for="jazyk">Jazyk:</label>
     <input type="text" id="jazyk" name="jazyk" class="form-control">
    </div>
    <div class="form-group col-3">
     <label for="pocet_stran">Pocet stran:</label>
     <input type="text" id="pocet_stran" name="pocet_stran" class="form-control">
    </div>
    <div class="form-group col-3">
     <label for="vazba">Vazba:</label>
     <input type="text" id="vazba" name="vazba" class="form-control">
    </div>
   </div>
   <div class="row">
    <div class="form-group col-3">
     <label for="rok_vydania">Rok vydania:</label>
     <input type="text" id="rok_vydania" name="rok_vydania" class="form-control">
    </div>
    <div class="form-group col-3">
     <label for="vydavatelstvo">Vydavatelstvo:</label>
     <input type="text" id="vydavatelstvo" name="vydavatelstvo" class="form-control">
    </div>
    <div class="form-group col-3">
     <label for="predajna_cena">Predajna cena:</label>
     <input type="text" id="predajna_cena" name="predajna_cena" class="form-control">
    </div>
    <div class="form-group col-3">
     <label for=" nakupna_cena">Nakupna cena</label>
     <input id="nakupna_cena" name="nakupna_cena class=" class="form-control">
    </div>

   </div>
   <div class="row">
    <div class="form-group col-3">
     <label for=" priemerne_hodnotenie">Priemerne hodnotenie:</label>
     <input id="priemerne_hodnotenie" name="priemerne_hodnotenie" class="form-control">
    </div>
    <div class="form-group col-3">
     <label for=" obrazok">Obrazok:</label>
     <input type="file" id="obrazok" name="obrazok" class="form-control">
    </div>
    <div class="form-group col-3">
     <label for="obsah">Example textarea</label>
     <textarea class="form-control" id="obsah" name="obsah" rows="5"></textarea>
    </div>

   </div>
   <button type="submit" class="btn btn-primary ">Submit</button>
  </form>
 </div>
 <footer>

 </footer>
 <script>
  $("#navbar").load("navbar.html")
  $("footer").load("footer.html")
 </script>
 <script>
  $(document).on('submit', "#bookForm", function (event) {
   event.preventDefault();
   var formData = new FormData();


   formData.append("nazov", $("#nazov").val());
   formData.append("autor1", $("#autor1").val());
   formData.append("autor2", $("#autor2").val());
   formData.append("kategoria", $("#kategoria").val());
   formData.append("isbn", $("#isbn").val());
   formData.append("jazyk", $("#jazyk").val());
   formData.append("pocet_stran", $("#pocet_stran").val());
   formData.append("vazba", $("#vazba").val());
   formData.append("rok_vydania", $("#rok_vydania").val());
   formData.append("vydavatelstvo", $("#vydavatelstvo").val());
   formData.append("predajna_cena", $("#predajna_cena").val());
   formData.append("nakupna_cena", $("#nakupna_cena").val());
   formData.append("obsah", $("#obsah").val());
   formData.append("priemerne_hodnotenie", $("#priemerne_hodnotenie").val());
   formData.append("file", $("#obrazok")[0].files[0]);

   $('#actionSelect').change(function () {
    var selectedAction = $(this).val();
    var ajaxUrl = '';

    switch (selectedAction) {
     case 'add':
      ajaxUrl = 'http://localhost:8050/book_services.asmx/AddBook1';
      break;
     case 'update':
      ajaxUrl = 'http://localhost:8050/book_services.asmx/AddBook1';
      break;
     case 'delete':
      ajaxUrl = 'http://localhost:8050/book_services.asmx/AddBook1';
      break;
    }
   })

   $.ajax({
    type: "POST",
    url: ajaxUrl,
    data: formData,
    contentType: false,
    processData: false,
    success: function (response) {
     alert("Book added successfully");
    },
    error: function (xhr, status, error) {
     alert("Error adding book: " + error);
    }
   });
  });



 </script>


 <!-- <script>

  $(document).ready(function () {
   $("#bookForm").submit(function (e) {
    e.preventDefault();
    var formData = $(this).serialize();
    var action = $("#actionSelect").val();
    $.ajax({
     type: "POST",
     url: "BookService.asmx/" + action + "Book",
     data: formData,
     success: function (response) {
      alert("Action performed successfully: " + response);
     }
    });
   });
  });
 }
 </script> -->

</body>

</html>