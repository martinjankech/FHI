<html>
<body>

  <script type="text/javascript">
  function loadXMLDoc(dname)
  {
    if (window.XMLHttpRequest)
    {
      xhttp=new XMLHttpRequest();
    }
    else
    {
      xhttp=new ActiveXObject("Microsoft.XMLHTTP");
    }
    xhttp.open("GET",dname,false);
    xhttp.send("");
    return xhttp.responseXML;
  }

  xml=loadXMLDoc("/diplomovka/kody/cvika/cviko_5/5_1/people.xml");
  
      //cestny vyraz, ktory vyberie vsetky atributy 'middle-initial' elementov 'person' korenoveho elementu 'people'
      //A (sucasne) 
      //vsetky atributy 'last-name' elementov 'person', ktore maju atribut 'middle-initial'
  path="/people/person/@middle-initial | /people/person[@middle-initial]/@last-name";
  path_person_middle_initial_count="/people/person/@middle-initial";
  
  //kod pre IE 5 a 6
  if (window.ActiveXObject)
  {
    var nodes=xml.selectNodes(path);

    for (i=0;i<nodes.length;i++)
    {
      document.write(nodes[i].childNodes[0].nodeValue);
      document.write("<br />");
    }
  }
  //kod pre Mozillu Firefox, Operu atd.
  else if (document.implementation && document.implementation.createDocument)
  {
    var nodes=xml.evaluate(path, xml, null, XPathResult.ANY_TYPE, null);
    var result=nodes.iterateNext();
    
    var nodes_person_middle_initial_count=xml.evaluate(path_person_middle_initial_count, xml, null, XPathResult.ANY_TYPE, null);
    var result_person_middle_initial_count=nodes_person_middle_initial_count.iterateNext();
    var count=0;

    //zistenie poctu elementov 'person' s atributom 'middle-initial'
    while (result_person_middle_initial_count)
    {
      result_person_middle_initial_count=nodes_person_middle_initial_count.iterateNext();
      count++
    }
    document.write(count);
    document.write("<br />");



    //vypisanie vysledkov hladania
    while (result)
    {
      //document.write(result.childNodes[0].nodeValue); //kod funguj√∫ci v starsich verziach Mozilly Firefox
      document.write(result.value); //kod fungujuci v Mozille Firefox 19.0
      document.write("<br />");
      result=nodes.iterateNext();
    }

  }
  </script>

</body>
</html>
